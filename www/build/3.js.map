{"version":3,"sources":["../../src/pages/setting/setting.module.ts","../../src/pages/setting/setting.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SettingPage } from './setting';\n\n@NgModule({\n  declarations: [\n    SettingPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SettingPage),\n  ],\n})\nexport class SettingPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/setting/setting.module.ts","import { Component } from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams} from 'ionic-angular';\nimport {WebServicesProvider} from \"../../providers/web-services/web-services\";\nimport {Storage} from \"@ionic/storage\";\n\n/**\n * Generated class for the SettingPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-setting',\n  templateUrl: 'setting.html',\n})\nexport class SettingPage {\n\n  accessToken: any;\n  loading: any;\n  notifOptionList:any;\n  notifOptionData:any;\n  privacyOptionList:any;\n  privacyOptionData:any;\n\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,public webservice:WebServicesProvider,public storage:Storage,public loadingCtrl:LoadingController) {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n  }\n\n  ionViewDidLoad() {\n    this.storage.get('accessToken').then(token => {\n      this.accessToken = token;\n\n      this.loading.present();\n      this.getProfileSettingMasterAPI();\n    });\n  }\n\n  getProfileSettingMasterAPI() {\n    this.webservice.getNotificationOptions(this.accessToken)\n      .then(responce => {\n        if (responce){\n          this.notifOptionList=responce.data[0].options;\n          this.getPrivacyOptionsAPI();\n        }\n      }).catch(err => {\n\n    });\n  }\n\n  getPrivacyOptionsAPI() {\n    this.webservice.getPrivacyOptions(this.accessToken)\n      .then(responce => {\n        if(responce){\n          this.privacyOptionList = responce.data[0].options;\n          this.getUserNotificationsAPI();\n        }\n      });\n  }\n\n  getUserNotificationsAPI() {\n    this.webservice.getUserNotifications(this.accessToken)\n      .then(responce => {\n        if (responce){\n          this.notifOptionData=responce.data;\n          for (let i=0;i<this.notifOptionData.length;i++){\n            for (let j=0;j<this.notifOptionList.length;j++){\n              if (this.notifOptionList[j]._id == this.notifOptionData[i]){\n                this.notifOptionList[j].isChecked=true;\n                break;\n              }\n            }\n          }\n          this.getUserPrivacyAPI();\n        }\n      });\n  }\n\n  getUserPrivacyAPI() {\n    this.webservice.getUserPrivacy(this.accessToken)\n      .then(responce => {\n        this.privacyOptionData=responce.data;\n        for (let i = 0;i < this.privacyOptionData.length;i++){\n          for (let j = 0;j < this.privacyOptionList.length;j++){\n            if (this.privacyOptionList[j]._id == this.privacyOptionData[i]){\n              this.privacyOptionList[j].isChecked = true;\n              break;\n            }\n          }\n        }\n        this.loading.dismiss();\n      });\n  }\n\n  save(){\n    let privacySettingOption='{\"options\":[]}';\n    let notifSettingOption='{\"options\":[]}';\n\n    for(let i=0;i < this.notifOptionList.length;i++){\n      if(this.notifOptionList[i].isChecked) {\n        var obj = JSON.parse(notifSettingOption);\n        obj['options'].push(this.notifOptionList[i]._id);\n        notifSettingOption = JSON.stringify(obj);\n      }\n    }\n\n    for(let i=0;i < this.privacyOptionList.length;i++){\n      if(this.privacyOptionList[i].isChecked) {\n        var objPrivacy = JSON.parse(privacySettingOption);\n        objPrivacy['options'].push(this.privacyOptionList[i]._id);\n        privacySettingOption = JSON.stringify(objPrivacy);\n      }\n    }\n\n    this.callUpdateUserNotificationsSettingAPI(notifSettingOption,privacySettingOption);\n  }\n\n  callUpdateUserNotificationsSettingAPI(notifSettingOption,privacySettingOption){\n    if (notifSettingOption!=''){\n\n      this.webservice.updateUserNotificationsSetting(JSON.parse(notifSettingOption), this.accessToken).then(result => {\n\n        if (result) {\n          this.callUpdateUserPrivacySettingAPI(privacySettingOption);\n        }\n      }, (err) => {\n        console.log(err);\n      });\n    } else {\n    }\n  }\n\n  callUpdateUserPrivacySettingAPI(privacySettingOption){\n      this.webservice.updateUserPrivacySetting(JSON.parse(privacySettingOption), this.accessToken).then(result => {\n      }, (err) => {\n        console.log(err);\n      });\n  }\n\n  gotoSearch(){\n    this.navCtrl.push('SearchPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/setting/setting.ts"],"sourceRoot":""}