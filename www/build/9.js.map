{"version":3,"sources":["../../src/pages/my-places/my-places.module.ts","../../src/pages/my-places/my-places.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MyPlacesPage } from './my-places';\n\n@NgModule({\n  declarations: [\n    MyPlacesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MyPlacesPage),\n  ],\n})\nexport class MyPlacesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-places/my-places.module.ts","import { Component } from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {WebServicesProvider} from \"../../providers/web-services/web-services\";\nimport {Storage} from \"@ionic/storage\";\nimport {Constant} from \"../../providers/Constant\";\n\n/**\n * Generated class for the MyPlacesPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-my-places',\n  templateUrl: 'my-places.html',\n})\nexport class MyPlacesPage {\n  accessToken: any;\n  tapIndex: any;\n  myPlacesDataList:any = [];\n  searchPlacesDataList:any = [];\n  searchingResultTxt: string = '';\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public alertCtrl: AlertController,\n              public webservice: WebServicesProvider, public storage: Storage,public loader:Constant) {\n  }\n\n  ngOnInit(){\n    this.storage.get('accessToken').then(token => {\n      this.accessToken = token;\n      this.getListMyPlacesAPI();\n    });\n  }\n\n  getListMyPlacesAPI() {\n    this.loader.showLoader();\n    this.webservice.getListMyPlaces(this.accessToken)\n      .then(responce => {\n        this.myPlacesDataList=responce.data;\n        this.loader.hideLoader();\n      }).catch(err => {\n        this.loader.hideLoader();\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MyPlacesPage');\n  }\n\n  ionViewDidEnter() {\n    /*if(this.tapIndex) {*/\n    try{\n      if(this.myPlacesDataList[this.tapIndex].title && this.myPlacesDataList[this.tapIndex].title != '') {\n        this.myPlacesDataList[this.tapIndex].title = this.loader.getMyPlacesUpdates().title;\n      }\n      if(this.myPlacesDataList[this.tapIndex].destination && this.myPlacesDataList[this.tapIndex].destination != '') {\n        this.myPlacesDataList[this.tapIndex].destination = this.loader.getMyPlacesUpdates().location;\n      }\n      this.loader.setMyPlacesUpdate('','');\n    } catch (e) {\n    }\n    /*}*/\n}\n\n  editMyPlace(id, indx, title, location){\n    this.tapIndex = indx;\n    this.loader.setMyPlacesUpdate(title,location);\n    this.navCtrl.push('AddPlacePage',{id:id,edit:true});\n  }\n\n  gotoAddPlace(){\n      this.navCtrl.push('AddPlacePage',{edit:false});\n  }\n\n  gotoSearch(){\n    this.navCtrl.push('SearchPage');\n  }\n\n  deletePlace(placeId: string, indx) {\n    this.webservice.deletePost(placeId, this.accessToken)\n      .then(response => {\n        this.myPlacesDataList.splice(indx, 1);\n    }).catch(err => {\n    });\n  }\n\n  presentDeleteConfirm(placeId: string, indx) {\n    const alert = this.alertCtrl.create({\n      title: 'Confirm delete',\n      message: 'Do you want to delete this place?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          handler: () => {\n          }\n        },\n        {\n          text: 'Yes',\n          handler: () => {\n            this.deletePlace(placeId, indx);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  presentSearchPrompt() {\n    const alert = this.alertCtrl.create({\n      title: 'Search',\n      inputs: [\n        {\n          name: 'txt',\n          placeholder: 'search'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: data => {}\n        },\n        {\n          text: 'Search',\n          handler: data => {\n            if(data.txt.trim().length > 0) {\n              this.searchPlace(data.txt);\n            }\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  searchPlace(txt: string) {\n    this.searchPlacesDataList = [];\n    this.searchingResultTxt = txt;\n    console.log(this.searchingResultTxt);\n    this.webservice.searchPlace(txt, this.accessToken).then(response => {\n      console.log(JSON.stringify(response));\n      let resp : any = response;\n      this.searchPlacesDataList = resp.data;\n    }).catch(err => {\n    });\n  }\n\n  clearResult() {\n    this.searchingResultTxt = '';\n  }\n\n  doRefresh(refresher) {\n    console.log('Begin async operation', refresher);\n    this.webservice.getListMyPlaces(this.accessToken)\n      .then(responce => {\n        this.myPlacesDataList=responce.data;\n        refresher.complete();\n      }).catch(err => {\n      refresher.complete();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-places/my-places.ts"],"sourceRoot":""}